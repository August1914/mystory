
{{ $webp := absURL (print "/img/webp/" .Site.Params.banner ".webp") }}
{{ $jpg := absURL (print "/img/jpg/" .Site.Params.banner ".jpg")  }}

<style>
    .active{
      display: block;
    }
    .diagonal-box {
 	    position: relative;
}
</style>
{{ $h1 := .Site.Params.headerheight }}
{{ $h2 := " z-0 mx-auto mb-10 " }}
{{ $h := (print $h1 $h2) }}


<header class="{{ $h }}" style="background-image: url('{{ $webp }}'), url('{{ $jpg }}'); background-position: center; background-size: cover;">
  <div id="topnav" class="p-5 mx-auto bg-blue-900 bg-opacity-70">
    <nav class="flex-row md:justify-between">
      <div class="float-left w-10 mr-5">
      <a class="" href="/"><img class="transform hover:rotate-12" src="{{ "/img/logo.svg" | absURL }}" alt="{{ .Site.Title }}" /></a>
      </div>
      <ul class="hidden md:flex md:flex-row" id="mobileMenu">
        {{- range .Site.Menus.main }}
          <li><a  class="pr-5 font-medium text-white topnav hover:text-yellow-200" href="{{ .URL }}">{{ .Name }}</a></li>
        {{- end }}
        {{- range .Site.Menus.social }}
          <li><a  class="m-2 text-white hover:text-yellow-200 " href="{{ .URL }}" aria-label="{{ .Name }}"><i class="{{  .Title }}" aria-hidden="true" title="{{ .Name }}"></i></a></li>
        {{- end }}
      </ul>
      <p id="hamburgerbtn" class="text-white md:hidden ">
        <i class="fa fa-bars"></i>
      </p>
    </nav>
  </div>
    <div class="">
      <div class="float-right w-96">
        <a class="" href="{{ .Site.Params.video }}"><img class="transform hover:scale-125 absolute h-12 md:h-32 w-12 md:w-32" src="{{ "/img/icon/video_play.svg" | absURL }}" alt="{{ .Site.Title }}" />
        </a>
      </div>
      {{ $titlestyle := print .Site.Params.titlecolor  "  ml-20 mt-12 max-w-7xl text-3xl md:text-7xl font-semibold tracking-wide hover:text-yellow-600 font-title" }}
      <h1 style="text-shadow: 2px 2px 4px black;" class="{{ $titlestyle }}">{{ .Site.Title }}</h1>
      <h2 style="text-shadow: 1px 1px 2px black;" class="ml-20 mt-2 font-sans font-semibold tracking-normal  text-yellow-400 text-1xl md:text-3xl hover:text-yellow-600">{{ .Site.Params.tagline }}</h2>
    </div>
</header>

<script>
let hamburger = document.getElementById('hamburgerbtn');

let mobileMenu = document.getElementById('mobileMenu');

hamburger.addEventListener('click', function(){
    mobileMenu.classList.toggle('active');
  });

  window.addEventListener("load", function(){
    // get all anchor elements within an element with the topnav class
  let locationPath = window.location.pathname;
   let collection = document.querySelectorAll(".topnav");
    // parameters for forEach are (element, index)
    collection.forEach((ele, ind) => {
    let elePath = ele.pathname;
    let firstPath = locationPath.split('/');
    let secondPath = '/chapters/' + firstPath[1] + '/';
    if (( elePath == locationPath ) ||
        ( elePath ==  secondPath ) ||
       ( elePath.includes('talks') && locationPath.includes('talks'))
      )
      {
        ele.classList.remove("text-white");
        ele.classList.add("text-yellow-400");
      }
      else {
        ele.classList.remove("text-yellow-400");
        ele.classList.add("text-white");
      }
  })
});

</script>
