{{ $width := default "200px" (.Get "width") }}
{{ $img := ( .Get "img" ) }}
{{ $alt := (.Get "alt") }}
{{ $caption := default $alt (.Get "caption") }}
{{ $border := default "3px" (.Get "border") }}
{{ $link := (.Get "link" )}}

<style>
  img[src~="3dbook"] {
    max-width: 160px;
  }
  @media screen {
    .book {
      display: inline-block;
      box-shadow: 5px 5px 20px #333;
      margin: 1rem;
    }
    .book img {
      vertical-align: middle;
    }
    .books {
      -moz-perspective: 100px;
      -moz-transform-style: preserve-3d;
      -webkit-transform-style: preserve-3d;
      display: inline-block;
      float: right;
      margin: 0px 0px 1rem 1rem;
    }
    .book {
      position: relative;
      -moz-perspective: 100px;
      -moz-transform: rotateY(-3deg);
      -webkit-transform: perspective(100) rotateY(-3deg);

      box-shadow: none;
      margin-left: 1em;
    }
    .book img {
      position: relative !important;
    }
    .book:before,
    .book:after {
      position: absolute;
      top: 14%;
      height: 72%;
      content: ' ';
      z-index: -1;
    }
    .book:before {
      width: 100%;
      left: 6.5%;
      background-color: #484848;
      box-shadow: 0px 3px 20px 2px #333;
    }
    .book:after {
      width: 5%;
      left: 100%;
      background-color: #EFEFEF;
      box-shadow: inset 0px 0px 5px #aaa;
      -moz-transform: rotateY(20deg);
      -webkit-transform: perspective(100) rotateY(20deg);
    }
  }
</style>

<a href="{{ $link }}" target="_blank" rel="noreferrer">
<span class="float-right w-1/3 m-10 book mybook">
  <picture>
    <source srcset="/img/webp/{{ $img }}.webp" type="image/webp">
    <source srcset="/img/jpg/{{ $img }}.jpg" type="image/jpg">
    <img class="transform hover:scale-x-105 hover:scale-y-105 " 
          src="/img/jpg/{{ $img }}.jpg" alt="{{ $alt }}" >
  </picture>
</span>
</a>
