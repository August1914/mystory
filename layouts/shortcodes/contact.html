{{ $formname := (.Get "formname") }}
{{ $label :=  default $formname (.Get "label") }}

<script type="text/javascript" src="{{ "js/forms.js" | absURL }}"></script>
<link rel="stylesheet" href="{{ "css/forms.css" | absURL }}" />

  {{ $formname := (.Get "formname") }}
  {{ $label :=  default $formname (.Get "label") }}

  <form class="form-story" input type="text" name="{{ $formname }}" method="POST" data-netlify="true">
  <p class="form-story-header"></p>
  <div>
  <li class="h-12 p-6 m-2">
      <label class="font-sans text-xs text-gray-300 " for="name">Name</label>
      <input class="h-6 mt-0 mb-1 font-sans text-sm border-gray-300 rounded hover:bg-blue-50" style="width: 100%"id=name aria-label="name" onkeyup="ckConsent()" type="text" name="name" maxlength="100">
      <span>Enter your name here</span>
  </li>
  <li class="h-12 p-6 m-2" >
      <label class="font-sans text-xs" for="email">Email</label>
      <input class="h-6 mb-1 font-sans text-sm border-gray-300 rounded hover:bg-blue-50" style="width: 100%" id=email aria-label="email" onkeyup="ckConsent()" type="email" name="email" maxlength="100">
      <span>Enter a valid email address</span>
  </li>
  <li class="m-2 font-sans text-xs border-gray-200 rounded" style="width: 95%">
    <label for="reason">What is this related to</label>
  <select class="mb-1 font-sans text-xs border-gray-200 rounded hover:bg-blue-50" style="width: 100%" name="reason" aria-label="reason" >
    <option value="Coaching">Inquire about my training and coaching services</option>
    <option value="Speaking">Invite me to speak at your event</option>
    <option value="Speaking">Recommend a book or podcast</option>
    <option value="Speaking">Ask me out on a date</option>
    <option value="Comment">General Comment</option>
    <option value="Rant">Full-on Rant</option>
    <option value="Errata">Report an error or typo on this site</option>
    <option value="Something">...something I don't already know</option>

  </select>
  </li>
  <li class="m-2 font-sans text-xs border-gray-200 rounded" style="width: 95%">
      <label for="story">Your message</label>
      <textarea class="m-2 font-sans text-xs border-gray-200 rounded hover:bg-blue-50" style="width: 95%" id=story name="story" aria-label="message" onkeyup="adjust_textarea(this)"></textarea>
      <span>Please let us know what's on your mind {{ $label }} </span>
  </li>
  <li class="m-2 font-sans text-sm hover:bg-blue-50">
    <input type="checkbox" id="chkAgree1" aria-label="agree" onChange="ckConsent()" name="consent1" > I have read and agree to the <a href="../../terms-of-service">Terms of Service.</a><br>
    <input type="checkbox" id="chkAgree2" aria-label="agree" onChange="ckConsent()" name="consent2" > I agree to my data being stored.<br>
    <input type="checkbox" id="chkAgree3" aria-label="agree" onChange="ckConsent()" name="consent3" > I agree to receive email.<br>
  </li>
  <li>
      <input class="p-1 mx-2 font-sans text-sm rounded-lg button " type="submit" id='btnSubmit' aria-label="submit" disabled="True" value="Send This" >
  </li>
</div>
  </form>
<!-- /div -->

<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight){
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    }
  });
}
</script>
<hr>
